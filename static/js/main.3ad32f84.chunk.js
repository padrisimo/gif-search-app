(this.webpackJsonpgiphapp=this.webpackJsonpgiphapp||[]).push([[0],{30:function(e,n,t){e.exports=t(61)},35:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(21),o=t.n(i),c=(t(35),t(7)),u=t.n(c),l=t(4),d=t(22),s=t.n(d),m=t(23),f=t.n(m),g=function(e){return e.map((function(e){return{columns:e.columns,imageWidth:e.imageWidth,gutter:e.gutter}})).reverse()},p=function(e){var n=g(e);return n.slice(0,n.length-1)},h=function(e){var n=g(e);return n[n.length-1]},b=function(e){return e.map((function(e){return e.mq&&"(min-width: ".concat(e.mq,")")})).filter((function(e){return null!=e})).reverse()},v="9Ixlv3DWC1biJRI57RanyL7RTbfzz0o7",E=[{mq:"480px",columns:1,imageWidth:480,gutter:1},{mq:"600px",columns:2,imageWidth:280,gutter:3},{mq:"700px",columns:3,imageWidth:200,gutter:5},{mq:"900px",columns:4,imageWidth:180,gutter:5},{mq:"1280px",columns:6,imageWidth:200,gutter:9}],O=40,w="#121212",y={apiUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=n?"search":"trending";return"https://api.giphy.com/v1/gifs/".concat(t,"?api_key=").concat(v,"&limit=").concat(O,"&rating=g&offset=").concat(e,"&q=").concat(n)}},j=t(24),x=t.n(j),C=t(9),_=t(5),S=function(e,n){var t=n.payload,a=n.pagination;switch(n.type){case"FETCH_INIT":return Object(_.a)({},e,{loading:!0,error:!1,lastPage:!1,data:[]});case"FETCH_MORE_INIT":return Object(_.a)({},e,{loading:!0,error:!1,lastPage:!1});case"FETCH_SUCCESS":return Object(_.a)({},e,{loading:!1,error:!1,data:t,lastPage:a.total_count-a.offset<=a.count});case"FETCH_MORE_SUCCESS":return Object(_.a)({},e,{loading:!1,error:!1,data:[].concat(Object(C.a)(e.data),Object(C.a)(t)),lastPage:a.total_count-a.offset<=a.count});case"FETCH_FAILURE":return Object(_.a)({},e,{loading:!1,error:!0,lastPage:!1});default:throw new Error("Unknown action type")}},k=function(){var e=Object(a.useReducer)(S,{loading:!1,error:!1,data:[],lastPage:!1}),n=Object(l.a)(e,2),t=n[0],r=n[1];return[t,function(e,n){r(n?{type:"FETCH_MORE_INIT"}:{type:"FETCH_INIT"}),x.a.get(e).then((function(e){r(n?{type:"FETCH_MORE_SUCCESS",payload:e.data.data,pagination:e.data.pagination}:{type:"FETCH_SUCCESS",payload:e.data.data,pagination:e.data.pagination})})).catch((function(){r({type:"FETCH_FAILURE"})}))}]};var I=t(1),q=t(2);function z(){var e=Object(I.a)(["\n  background: tomato;\n  position: fixed;\n  width: 100%;\n  z-index: 2;\n  padding: .5rem;\n"]);return z=function(){return e},e}var T=q.a.form(z());function H(){var e=Object(I.a)(["\n  cursor: pointer;\n  background: transparent;\n  border: 1px solid white;\n  border-radius: 25px;\n  color: white;\n  padding: 1rem 4rem;\n  margin-left: 1rem;\n\n  &:hover:enabled {\n    background: white;\n    color: tomato;\n  }\n  &:disabled {\n    color: lightgrey;\n    border-color: lightgrey;\n    cursor: not-allowed;\n  }\n"]);return H=function(){return e},e}var F=q.a.button(H()),R=function(e){var n=e.title,t=e.onHandleSubmit,a=e.query;return r.a.createElement(F,{"data-testid":"Button",type:"submit",onClick:t,disabled:!a},n)};function U(){var e=Object(I.a)(["\n  padding: 1.5em;\n  border: 0;\n  border-radius: 25px;\n"]);return U=function(){return e},e}var W=q.a.input(U()),M=function(e){var n=e.onHandleQuery,t=e.query;return r.a.createElement(W,{value:t,onChange:n,placeholder:"search gif",type:"text",name:"query","data-testid":"SearchInput",required:!0})};function L(){var e=Object(I.a)(["\n    height: 70px;\n\n"]);return L=function(){return e},e}var P=q.a.div(L());function B(){var e=Object(I.a)(["\n    color: white;\n    font-size: 3rem;\n    margin-top: 1rem;\n"]);return B=function(){return e},e}var N=q.a.div(B());function J(){var e=Object(I.a)(["\n  min-height: 100vh;\n  width: 100vw;\n  display: flex;\n  align-items: center;\n  flex-direction:column;\n"]);return J=function(){return e},e}var A=q.a.div(J());function D(){var e=Object(I.a)(["\n  display: block;\n  width: 100%;\n  height: auto;\n"]);return D=function(){return e},e}function Q(){var e=Object(I.a)(["\n  background: tomato;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  &:focus {\n    opacity: 0.6;\n  }\n\n"]);return Q=function(){return e},e}var V=q.a.button(Q(),(function(e){return e.size}),(function(e){var n=e.size,t=e.item;return t.images.fixed_width_downsampled.height*n/t.images.fixed_width_downsampled.width})),G=q.a.img(D()),K=function(e){var n=e.item,t=e.size,a=e.onSelect;return r.a.createElement(V,{"data-testid":"ImageItemButton",type:"button",size:t,item:n,onClick:function(){return a(n)}},r.a.createElement(G,{"data-testid":"ImageItemImage",width:n.images.fixed_width_downsampled.width,height:n.images.fixed_width_downsampled.height,alt:n.title,src:n.images.fixed_width_downsampled.url}))},X=t(28),Y=function(e){var n=e.children,t=e.sizes,i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=Object(X.a)({container:i.current,packed:"data-packed",sizes:t,position:!0});e.resize(!0),a.Children.count(n)>0&&e.pack()}),[n]),r.a.createElement("div",{ref:i,"data-testid":"BrickLayoutContainer"},n)};function Z(){var e=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  color: white;\n"]);return Z=function(){return e},e}var $=q.a.div(Z()),ee=function(e){var n=e.gif;return r.a.createElement($,{"data-testid":"ExpandedImage"},r.a.createElement("h1",null,n.title),r.a.createElement("img",{src:n.images.original.url,alt:n.title}),r.a.createElement("h2",null,n.username&&"by ".concat(n.username)),r.a.createElement("h3",null,n.rating&&"\ud83d\udc4d ".concat(n.rating)))};function ne(){var e=Object(I.a)(["\n  position: fixed;\n  cursor: pointer;\n  color: black;\n  padding:.7rem 1rem .8rem;\n  border-radius: 50px;\n  margin: 1rem;\n  background: rgba(255,255,255, 0.4);\n  \n  &:hover {\n    background: rgba(255,255,255, 0.8);\n\n  }\n"]);return ne=function(){return e},e}var te=q.a.div(ne()),ae=function(e){var n=e.handleClose;return r.a.createElement(te,{onClick:n},"x")};var re=function(){var e=Object(a.useState)(""),n=Object(l.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)(),c=Object(l.a)(o,2),d=c[0],m=c[1],g=Object(a.useState)(!0),v=Object(l.a)(g,2),j=v[0],x=v[1],C=Object(a.useState)(!1),_=Object(l.a)(C,2),S=_[0],I=_[1],q=Object(a.useRef)(!0),z=k(),H=Object(l.a)(z,2),F=H[0],U=F.data,W=F.loading,L=F.error,B=F.lastPage,J=H[1];Object(a.useEffect)((function(){J(y.apiUrl(0,t)),q.current&&(q.current=!1,x(!1))}),[]);var D=function(e,n,t){var r=e.map((function(e){return window.matchMedia(e)})),i=function(){var e=r.findIndex((function(e){return e.matches}));return"undefined"!==typeof n[e]?n[e]:t},o=Object(a.useState)(i),c=Object(l.a)(o,2),u=c[0],d=c[1];return Object(a.useEffect)((function(){var e=function(){return d(i)};return r.forEach((function(n){return n.addListener(e)})),function(){return r.forEach((function(n){return n.removeListener(e)}))}}),[]),u}(b(E),p(E),h(E));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null,r.a.createElement(M,{onHandleQuery:function(e){return i(e.target.value)},query:t}),r.a.createElement(R,{title:"Search",query:t,onHandleSubmit:function(e){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,u.a.awrap(J(y.apiUrl(0,t)));case 3:I(!1),m(null);case 5:case"end":return n.stop()}}))}})),r.a.createElement(A,null,d&&r.a.createElement(f.a,{isVisible:S,dockStyle:{background:w},position:"right",zIndex:1,dimMode:"opaque",size:1,fluid:!0},r.a.createElement(P,null),r.a.createElement(ae,{handleClose:function(){return I(!1)}}),r.a.createElement(ee,{gif:d})),r.a.createElement(P,null),L&&r.a.createElement(N,null,"omg! ",L),r.a.createElement(s.a,{pageStart:0,loadMore:function(e){return t&&J(y.apiUrl(e*O),t)},hasMore:!W&&!B,useWindow:!0,initialLoad:!1,loader:!j&&t&&r.a.createElement(N,{key:"loading"},"loading...")},U.length>0?r.a.createElement(Y,{sizes:E},U.map((function(e){return r.a.createElement(K,{item:e,size:D.imageWidth,key:e.id,onSelect:function(){return function(e){m(e),I(!0)}(e)}})}))):r.a.createElement(N,null,"Ups! nothing found!"))))};o.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.3ad32f84.chunk.js.map